{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst input = document.querySelector(\"#datetime-picker\")\nconst start = document.querySelector(\"[data-start]\")\nconst days = document.querySelector(\"[data-days]\")\nconst hours = document.querySelector(\"[data-hours]\")\nconst minutes = document.querySelector(\"[data-minutes]\")\nconst seconds = document.querySelector(\"[data-seconds]\")\n\nlet userSelectedDate = null\n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n        console.log(selectedDates[0]);\n        const selectedDate = selectedDates[0]\n        if (selectedDate < new Date()) {\n            start.setAttribute(\"disabled\", '')\n            iziToast.error({\n                message: 'Please choose a date in the future',\n                position: 'topRight',\n            });\n        } else {\n            userSelectedDate = selectedDate\n            start.removeAttribute(\"disabled\")\n        }\n    },\n};\n\nflatpickr(input, options)\n\nstart.addEventListener(\"click\", () => {\n    input.setAttribute(\"disabled\", '')\n\n    const timerId = setInterval(() => {\n        let difference = userSelectedDate - new Date()\n        if (difference <= 0) {\n            clearInterval(timerId)\n            input.removeAttribute(\"disabled\")\n            iziToast.success({\n                message: 'Countdown finished!',\n                position: 'topRight',\n            });\n        } else {\n            start.setAttribute(\"disabled\", '')\n\n            const time = convertMs(difference)\n            days.textContent = addLeadingZero(time.days)\n            hours.textContent = addLeadingZero(time.hours)\n            minutes.textContent = addLeadingZero(time.minutes)\n            seconds.textContent = addLeadingZero(time.seconds)\n        }\n    }, 1000)\n})\n\nfunction convertMs(ms) {\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n\n    const days = Math.floor(ms / day);\n    const hours = Math.floor((ms % day) / hour);\n    const minutes = Math.floor(((ms % day) % hour) / minute);\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n    return { days, hours, minutes, seconds };\n}\n\nfunction addLeadingZero(num) {\n    return String(num).padStart(2, '0');\n}"],"names":["input","start","days","hours","minutes","seconds","userSelectedDate","options","selectedDates","selectedDate","iziToast","flatpickr","timerId","difference","time","convertMs","addLeadingZero","ms","num"],"mappings":"+IAKA,MAAMA,EAAQ,SAAS,cAAc,kBAAkB,EACjDC,EAAQ,SAAS,cAAc,cAAc,EAC7CC,EAAO,SAAS,cAAc,aAAa,EAC3CC,EAAQ,SAAS,cAAc,cAAc,EAC7CC,EAAU,SAAS,cAAc,gBAAgB,EACjDC,EAAU,SAAS,cAAc,gBAAgB,EAEvD,IAAIC,EAAmB,KAEvB,MAAMC,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACnB,QAAQ,IAAIA,EAAc,CAAC,CAAC,EAC5B,MAAMC,EAAeD,EAAc,CAAC,EAChCC,EAAe,IAAI,MACnBR,EAAM,aAAa,WAAY,EAAE,EACjCS,EAAS,MAAM,CACX,QAAS,qCACT,SAAU,UAC1B,CAAa,IAEDJ,EAAmBG,EACnBR,EAAM,gBAAgB,UAAU,EAEvC,CACL,EAEAU,EAAUX,EAAOO,CAAO,EAExBN,EAAM,iBAAiB,QAAS,IAAM,CAClCD,EAAM,aAAa,WAAY,EAAE,EAEjC,MAAMY,EAAU,YAAY,IAAM,CAC9B,IAAIC,EAAaP,EAAmB,IAAI,KACxC,GAAIO,GAAc,EACd,cAAcD,CAAO,EACrBZ,EAAM,gBAAgB,UAAU,EAChCU,EAAS,QAAQ,CACb,QAAS,sBACT,SAAU,UAC1B,CAAa,MACE,CACHT,EAAM,aAAa,WAAY,EAAE,EAEjC,MAAMa,EAAOC,EAAUF,CAAU,EACjCX,EAAK,YAAcc,EAAeF,EAAK,IAAI,EAC3CX,EAAM,YAAca,EAAeF,EAAK,KAAK,EAC7CV,EAAQ,YAAcY,EAAeF,EAAK,OAAO,EACjDT,EAAQ,YAAcW,EAAeF,EAAK,OAAO,CACpD,CACJ,EAAE,GAAI,CACX,CAAC,EAED,SAASC,EAAUE,EAAI,CAMnB,MAAMf,EAAO,KAAK,MAAMe,EAAK,KAAG,EAC1Bd,EAAQ,KAAK,MAAOc,EAAK,MAAO,IAAI,EACpCb,EAAU,KAAK,MAAQa,EAAK,MAAO,KAAQ,GAAM,EACjDZ,EAAU,KAAK,MAASY,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAf,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CAC1C,CAEA,SAASW,EAAeE,EAAK,CACzB,OAAO,OAAOA,CAAG,EAAE,SAAS,EAAG,GAAG,CACtC"}